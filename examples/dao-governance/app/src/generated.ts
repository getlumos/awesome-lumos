// Auto-generated by LUMOS
// DO NOT EDIT - Changes will be overwritten

import * as borsh from '@coral-xyz/borsh';
import { PublicKey } from '@solana/web3.js';

export interface DAO {
  authority: PublicKey;
  name: string;
  treasury: PublicKey;
  total_members: number;
  total_proposals: number;
  voting_period: number;
  timelock_delay: number;
  quorum_threshold: number;
  approval_threshold: number;
  is_active: boolean;
  created_at: number;
}

export const DAOSchema = borsh.struct([
  borsh.publicKey('authority'),
  borsh.string('name'),
  borsh.publicKey('treasury'),
  borsh.u64('total_members'),
  borsh.u64('total_proposals'),
  borsh.i64('voting_period'),
  borsh.i64('timelock_delay'),
  borsh.u64('quorum_threshold'),
  borsh.u64('approval_threshold'),
  borsh.bool('is_active'),
  borsh.i64('created_at'),
]);


export interface Proposal {
  id: number;
  dao: PublicKey;
  proposer: PublicKey;
  title: string;
  description: string;
  proposal_type: ProposalType;
  yes_votes: number;
  no_votes: number;
  abstain_votes: number;
  total_votes: number;
  start_time: number;
  end_time: number;
  queued_at?: number | undefined;
  executed_at?: number | undefined;
  cancelled_at?: number | undefined;
  status: ProposalStatus;
}

export const ProposalSchema = borsh.struct([
  borsh.u64('id'),
  borsh.publicKey('dao'),
  borsh.publicKey('proposer'),
  borsh.string('title'),
  borsh.string('description'),
  borsh.proposaltype('proposal_type'),
  borsh.u64('yes_votes'),
  borsh.u64('no_votes'),
  borsh.u64('abstain_votes'),
  borsh.u64('total_votes'),
  borsh.i64('start_time'),
  borsh.i64('end_time'),
  borsh.option(borsh.i64)('queued_at'),
  borsh.option(borsh.i64)('executed_at'),
  borsh.option(borsh.i64)('cancelled_at'),
  borsh.proposalstatus('status'),
]);


export type ProposalType =
  | { kind: 'Transfer'; recipient: PublicKey; amount: number }
  | { kind: 'ConfigChange'; voting_period: number | undefined; timelock_delay: number | undefined; quorum_threshold: number | undefined; approval_threshold: number | undefined }
  | { kind: 'AddMember'; member: PublicKey; voting_power: number }
  | { kind: 'RemoveMember'; member: PublicKey }
  | { kind: 'Custom'; instruction_data: string; target_program: PublicKey }
;

export const ProposalTypeSchema = borsh.rustEnum([
  borsh.struct([
    borsh.publicKey('recipient'),
    borsh.u64('amount'),
  ], 'Transfer'),
  borsh.struct([
    borsh.option(borsh.i64)('voting_period'),
    borsh.option(borsh.i64)('timelock_delay'),
    borsh.option(borsh.u64)('quorum_threshold'),
    borsh.option(borsh.u64)('approval_threshold'),
  ], 'ConfigChange'),
  borsh.struct([
    borsh.publicKey('member'),
    borsh.u64('voting_power'),
  ], 'AddMember'),
  borsh.struct([
    borsh.publicKey('member'),
  ], 'RemoveMember'),
  borsh.struct([
    borsh.string('instruction_data'),
    borsh.publicKey('target_program'),
  ], 'Custom'),
]);


export type ProposalStatus =
  | { kind: 'Draft' }
  | { kind: 'Active' }
  | { kind: 'Succeeded' }
  | { kind: 'Defeated' }
  | { kind: 'Queued' }
  | { kind: 'Executed' }
  | { kind: 'Cancelled' }
  | { kind: 'Expired' }
;

export const ProposalStatusSchema = borsh.rustEnum([
  borsh.unit('Draft'),
  borsh.unit('Active'),
  borsh.unit('Succeeded'),
  borsh.unit('Defeated'),
  borsh.unit('Queued'),
  borsh.unit('Executed'),
  borsh.unit('Cancelled'),
  borsh.unit('Expired'),
]);


export interface Vote {
  proposal: PublicKey;
  voter: PublicKey;
  vote_type: VoteType;
  voting_power: number;
  comment: string;
  voted_at: number;
}

export const VoteSchema = borsh.struct([
  borsh.publicKey('proposal'),
  borsh.publicKey('voter'),
  borsh.votetype('vote_type'),
  borsh.u64('voting_power'),
  borsh.string('comment'),
  borsh.i64('voted_at'),
]);


export type VoteType =
  | { kind: 'Yes' }
  | { kind: 'No' }
  | { kind: 'Abstain' }
;

export const VoteTypeSchema = borsh.rustEnum([
  borsh.unit('Yes'),
  borsh.unit('No'),
  borsh.unit('Abstain'),
]);


export interface Member {
  dao: PublicKey;
  wallet: PublicKey;
  voting_power: number;
  delegate?: PublicKey | undefined;
  proposals_created: number;
  votes_cast: number;
  joined_at: number;
  is_active: boolean;
}

export const MemberSchema = borsh.struct([
  borsh.publicKey('dao'),
  borsh.publicKey('wallet'),
  borsh.u64('voting_power'),
  borsh.option(borsh.publicKey)('delegate'),
  borsh.u64('proposals_created'),
  borsh.u64('votes_cast'),
  borsh.i64('joined_at'),
  borsh.bool('is_active'),
]);


export interface VoteDelegation {
  delegator: PublicKey;
  delegatee: PublicKey;
  dao: PublicKey;
  delegated_power: number;
  created_at: number;
}

export const VoteDelegationSchema = borsh.struct([
  borsh.publicKey('delegator'),
  borsh.publicKey('delegatee'),
  borsh.publicKey('dao'),
  borsh.u64('delegated_power'),
  borsh.i64('created_at'),
]);


export interface GovernanceEvent {
  event_type: EventType;
  dao: PublicKey;
  actor: PublicKey;
  timestamp: number;
  block_height: number;
}

export const GovernanceEventSchema = borsh.struct([
  borsh.eventtype('event_type'),
  borsh.publicKey('dao'),
  borsh.publicKey('actor'),
  borsh.i64('timestamp'),
  borsh.u64('block_height'),
]);


export type EventType =
  | { kind: 'DAOCreated' }
  | { kind: 'ProposalCreated'; proposal_id: number }
  | { kind: 'VoteCast'; proposal_id: number; vote_type: VoteType }
  | { kind: 'ProposalQueued'; proposal_id: number }
  | { kind: 'ProposalExecuted'; proposal_id: number }
  | { kind: 'ProposalCancelled'; proposal_id: number }
  | { kind: 'MemberAdded'; member: PublicKey }
  | { kind: 'MemberRemoved'; member: PublicKey }
  | { kind: 'VoteDelegated'; from: PublicKey; to: PublicKey }
  | { kind: 'ConfigChanged' }
;

export const EventTypeSchema = borsh.rustEnum([
  borsh.unit('DAOCreated'),
  borsh.struct([
    borsh.u64('proposal_id'),
  ], 'ProposalCreated'),
  borsh.struct([
    borsh.u64('proposal_id'),
    borsh.votetype('vote_type'),
  ], 'VoteCast'),
  borsh.struct([
    borsh.u64('proposal_id'),
  ], 'ProposalQueued'),
  borsh.struct([
    borsh.u64('proposal_id'),
  ], 'ProposalExecuted'),
  borsh.struct([
    borsh.u64('proposal_id'),
  ], 'ProposalCancelled'),
  borsh.struct([
    borsh.publicKey('member'),
  ], 'MemberAdded'),
  borsh.struct([
    borsh.publicKey('member'),
  ], 'MemberRemoved'),
  borsh.struct([
    borsh.publicKey('from'),
    borsh.publicKey('to'),
  ], 'VoteDelegated'),
  borsh.unit('ConfigChanged'),
]);


export interface DAOStats {
  dao: PublicKey;
  total_votes_cast: number;
  total_proposals_passed: number;
  total_proposals_failed: number;
  total_treasury_spent: number;
  average_participation_rate: number;
  last_activity_at: number;
}

export const DAOStatsSchema = borsh.struct([
  borsh.publicKey('dao'),
  borsh.u64('total_votes_cast'),
  borsh.u64('total_proposals_passed'),
  borsh.u64('total_proposals_failed'),
  borsh.u64('total_treasury_spent'),
  borsh.u64('average_participation_rate'),
  borsh.i64('last_activity_at'),
]);


export interface MemberStats {
  member: PublicKey;
  dao: PublicKey;
  total_proposals_created: number;
  total_votes_cast: number;
  proposals_passed: number;
  proposals_failed: number;
  voting_power_received: number;
  voting_power_delegated: number;
  participation_rate: number;
}

export const MemberStatsSchema = borsh.struct([
  borsh.publicKey('member'),
  borsh.publicKey('dao'),
  borsh.u64('total_proposals_created'),
  borsh.u64('total_votes_cast'),
  borsh.u64('proposals_passed'),
  borsh.u64('proposals_failed'),
  borsh.u64('voting_power_received'),
  borsh.u64('voting_power_delegated'),
  borsh.u64('participation_rate'),
]);
